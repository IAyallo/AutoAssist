<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoAssist - Register Car</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-logo">
            <div class="nav-logo-icon">
                <div class="tool-icon">
                    <div class="wrench"></div>
                    <div class="screwdriver"></div>
                </div>
            </div>
            <span class="nav-logo-text">AUTOASSIST</span>
        </div>
        <div class="nav-user">
            <div class="nav-avatar" id="user-avatar"></div>
        </div>
    </nav>

    <div class="container">
        <div class="service-flow">
            <div class="step-indicator">
                <div class="step active">
                    <div class="step-number">1</div>
                    <div class="step-label">Car Details</div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-label">Complete</div>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title" style="margin: 0;">
                    <span class="icon" style="mask-image: url('data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'%3E%3Cpath d=\'M19 17h2c.55 0 1-.45 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.3 16 10 16 10s-1.3-2-3-2H5c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h2\'%3E%3C/path%3E%3Ccircle cx=\'7\' cy=\'18\' r=\'2\'%3E%3C/circle%3E%3Cpath d=\'M9 18h6\'%3E%3C/path%3E%3Ccircle cx=\'17\' cy=\'18\' r=\'2\'%3E%3C/circle%3E%3C/svg%3E');"></span>
                    My Cars
                </h3>
            </div>

            <form id="car-register-form" action="process_car_register.php" method="POST" style="margin-top: 20px;">
                <input type="hidden" id="userPhone" name="userPhone" value="">
                <div class="input-group">
                    <label for="car_make">Car Make</label>
                    <input type="text" id="car_make" name="car_make" required>
                </div>
                <div class="input-group">
                    <label for="car_model">Car Model</label>
                    <input type="text" id="car_model" name="car_model" required>
                </div>
                <div class="input-group">
                    <label for="car_year">Year</label>
                    <input type="text" id="car_year" name="car_year" required>
                </div>
                <div class="input-group">
                    <label for="car_colour">Color</label>
                    <input type="text" id="car_colour" name="car_colour" required>
                </div>
                <div class="input-group">
                    <label for="number_plate">Number Plate</label>
                    <input type="text" id="number_plate" name="number_plate" required>
                </div>
                <button type="submit" class="btn btn-primary">Register Car</button>
            </form>               
            </div>
        </div>
    </div>

    <script>
        // Check if user is authenticated
        if(localStorage.getItem('isAuthenticated') !== 'true') {
            window.location.href = 'index.html';
        }

        // Set user avatar initials
        document.addEventListener('DOMContentLoaded', function() {
            const userName = localStorage.getItem('userName');
            const initials = userName ? userName.split(' ').map(n => n[0]).join('') : '';
            document.getElementById('user-avatar').textContent = initials;
        });

        document.getElementById('userPhone').value = localStorage.getItem('userPhone');
    </script>
</body>
</html>